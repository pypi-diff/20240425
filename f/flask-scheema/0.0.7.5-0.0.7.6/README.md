# Comparing `tmp/flask_scheema-0.0.7.5-py3-none-any.whl.zip` & `tmp/flask_scheema-0.0.7.6-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,33 +1,33 @@
-Zip file size: 68677 bytes, number of entries: 31
+Zip file size: 69020 bytes, number of entries: 31
 -rw-r--r--  2.0 unx      123 b- defN 24-Mar-13 11:20 flask_scheema/__init__.py
 -rw-r--r--  2.0 unx     1003 b- defN 24-Feb-29 22:18 flask_scheema/exceptions.py
 -rw-r--r--  2.0 unx     9819 b- defN 24-Apr-22 11:56 flask_scheema/flask_extension.py
 -rw-r--r--  2.0 unx     2229 b- defN 24-Mar-02 08:17 flask_scheema/logging.py
 -rw-r--r--  2.0 unx    17852 b- defN 24-Mar-14 07:51 flask_scheema/utilities.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Sep-30 18:13 flask_scheema/api/__init__.py
 -rw-r--r--  2.0 unx    20185 b- defN 24-Mar-13 11:11 flask_scheema/api/api.py
 -rw-r--r--  2.0 unx     3294 b- defN 24-Mar-02 08:17 flask_scheema/api/auth.py
 -rw-r--r--  2.0 unx     4161 b- defN 24-Mar-02 08:17 flask_scheema/api/auth_routes.py
 -rw-r--r--  2.0 unx    12237 b- defN 24-Apr-22 10:14 flask_scheema/api/decorators.py
 -rw-r--r--  2.0 unx      716 b- defN 24-Mar-03 18:35 flask_scheema/api/exception_handling.py
--rw-r--r--  2.0 unx     9714 b- defN 24-Apr-24 18:40 flask_scheema/api/responses.py
+-rw-r--r--  2.0 unx    10772 b- defN 24-Apr-25 07:24 flask_scheema/api/responses.py
 -rw-r--r--  2.0 unx    13904 b- defN 24-Mar-06 22:06 flask_scheema/api/utils.py
 -rw-r--r--  2.0 unx      676 b- defN 24-Mar-13 19:24 flask_scheema/html/apispec.html
 -rw-r--r--  2.0 unx     4812 b- defN 24-Mar-05 22:48 flask_scheema/html/base_readme.MD
 -rw-r--r--  2.0 unx        0 b- defN 23-Sep-30 19:35 flask_scheema/scheema/__init__.py
 -rw-r--r--  2.0 unx    20391 b- defN 24-Apr-22 10:14 flask_scheema/scheema/bases.py
 -rw-r--r--  2.0 unx     4838 b- defN 24-Feb-27 11:21 flask_scheema/scheema/schemas.py
 -rw-r--r--  2.0 unx     9834 b- defN 24-Mar-08 23:23 flask_scheema/scheema/utils.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Sep-30 22:29 flask_scheema/services/__init__.py
 -rw-r--r--  2.0 unx    24967 b- defN 24-Mar-11 22:09 flask_scheema/services/database.py
 -rw-r--r--  2.0 unx    22038 b- defN 24-Mar-11 22:16 flask_scheema/services/operators.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Sep-29 20:13 flask_scheema/specification/__init__.py
 -rw-r--r--  2.0 unx    39440 b- defN 24-Apr-22 13:38 flask_scheema/specification/doc_generation.py
 -rw-r--r--  2.0 unx    11646 b- defN 24-Mar-13 18:01 flask_scheema/specification/specification.py
 -rw-r--r--  2.0 unx     4921 b- defN 24-Mar-09 13:48 flask_scheema/specification/utilities.py
--rw-r--r--  2.0 unx     1056 b- defN 24-Apr-24 18:41 flask_scheema-0.0.7.5.dist-info/LICENCE.rst
--rw-r--r--  2.0 unx      902 b- defN 24-Apr-24 18:41 flask_scheema-0.0.7.5.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-24 18:41 flask_scheema-0.0.7.5.dist-info/WHEEL
--rw-r--r--  2.0 unx       14 b- defN 24-Apr-24 18:41 flask_scheema-0.0.7.5.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2735 b- defN 24-Apr-24 18:41 flask_scheema-0.0.7.5.dist-info/RECORD
-31 files, 243599 bytes uncompressed, 64233 bytes compressed:  73.6%
+-rw-r--r--  2.0 unx     1056 b- defN 24-Apr-25 07:25 flask_scheema-0.0.7.6.dist-info/LICENCE.rst
+-rw-r--r--  2.0 unx      902 b- defN 24-Apr-25 07:25 flask_scheema-0.0.7.6.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-25 07:25 flask_scheema-0.0.7.6.dist-info/WHEEL
+-rw-r--r--  2.0 unx       14 b- defN 24-Apr-25 07:25 flask_scheema-0.0.7.6.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2736 b- defN 24-Apr-25 07:25 flask_scheema-0.0.7.6.dist-info/RECORD
+31 files, 244658 bytes uncompressed, 64576 bytes compressed:  73.6%
```

## zipnote {}

```diff
@@ -72,23 +72,23 @@
 
 Filename: flask_scheema/specification/specification.py
 Comment: 
 
 Filename: flask_scheema/specification/utilities.py
 Comment: 
 
-Filename: flask_scheema-0.0.7.5.dist-info/LICENCE.rst
+Filename: flask_scheema-0.0.7.6.dist-info/LICENCE.rst
 Comment: 
 
-Filename: flask_scheema-0.0.7.5.dist-info/METADATA
+Filename: flask_scheema-0.0.7.6.dist-info/METADATA
 Comment: 
 
-Filename: flask_scheema-0.0.7.5.dist-info/WHEEL
+Filename: flask_scheema-0.0.7.6.dist-info/WHEEL
 Comment: 
 
-Filename: flask_scheema-0.0.7.5.dist-info/top_level.txt
+Filename: flask_scheema-0.0.7.6.dist-info/top_level.txt
 Comment: 
 
-Filename: flask_scheema-0.0.7.5.dist-info/RECORD
+Filename: flask_scheema-0.0.7.6.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## flask_scheema/api/responses.py

```diff
@@ -1,20 +1,21 @@
 import inspect
 import time
 from datetime import datetime
 from typing import Optional, Union, List, Any, Dict, Type, Tuple
 
 import pytz
-from flask import Response, current_app, jsonify, g
+from flask import Response, current_app, jsonify, g, request
 from marshmallow import Schema, ValidationError
 from sqlalchemy.orm import DeclarativeBase
 
 from flask_scheema.api.utils import convert_case
 from flask_scheema.scheema.utils import convert_snake_to_camel
 from flask_scheema.utilities import get_config_or_model_meta
+import xml.etree.ElementTree as ET
 
 
 class CustomResponse:
     """
     Custom response class to be used for serializing output.
     """
 
@@ -57,14 +58,17 @@
     try:
 
         fields = [v.name for k, v in input_schema().fields.items() if not v.dump_only]
         data = {k: v for k, v in data.get("deserialized_data",data).items() if k in fields}
 
         # if get_config_or_model_meta("API_CONVERT_TO_CAMEL_CASE", default=True):
         #     data = {convert_camel(k): v for k, v in data.items()}
+        # Check the 'Accept' header to decide the format of the response
+        if "application/xml" in [request.headers.get("Accept"), request.headers.get("Content-Type")]:
+            data = xml_to_dict(data)
 
         deserialized_data = input_schema().load(data=data, output_as_dict=True)
 
         return deserialized_data
     except ValidationError as err:
         return err.messages, 400
 
@@ -88,14 +92,38 @@
                 or (key in schema_fields and schema._declared_fields[key].dump != False)
                 or key not in all_model_keys
             ):
                 filtered_dict[key] = value
         filtered_data.append(filtered_dict)
     return filtered_data
 
+def dict_to_xml(tag, d):
+    """
+    Turn a simple dict of key/value pairs into XML
+    """
+    elem = ET.Element(tag)
+    for key, val in d.items():
+        child = ET.Element(key)
+        child.text = str(val)
+        elem.append(child)
+    return elem
+
+
+def xml_to_dict(xml_data):
+    """
+    Turn an XML element into a dictionary
+    """
+    if hasattr(xml_data, "decode"):
+        xml_data = xml_data.decode()
+
+    root = ET.fromstring(xml_data)
+    d = {}
+    for child in root:
+        d[child.tag] = child.text
+    return d
 
 def dump_schema_if_exists(
     schema: Schema, data: Union[dict, DeclarativeBase], is_list=False
 ):
     """
     Serialize the data using the schema if the data exists.
     Args:
@@ -104,14 +132,15 @@
         is_list (bool): whether the data is a list
 
     Returns:
         Union[Dict[str, Any], List[Dict[str, Any]]]: the serialized data
 
     """
     if data:
+
         return schema.dump(data, many=is_list)
     return [] if is_list else None
 
 
 def serialize_output_with_mallow(
     output_schema: Type[Schema],
     data: Any,
@@ -239,16 +268,22 @@
 
     final_hook = get_config_or_model_meta(
         f"API_FINAL_CALLBACK"
     )
     if final_hook:
         data = final_hook(data)
 
-    response = jsonify(data)
-    response.status_code = int(str(status))
+    # Check the 'Accept' header to decide the format of the response
+    if "application/xml" in [request.headers.get("Accept"), request.headers.get("Content-Type")]:
+        xml = dict_to_xml(data)
+        response = Response(xml, mimetype='application/xml')
+    else:
+        response = jsonify(data)
+        response.status_code = status
+
 
     return response
 
 
 def remove_values(data: dict) -> dict:
     """
     Remove values from the response based on the configuration settings.
```

## Comparing `flask_scheema-0.0.7.5.dist-info/LICENCE.rst` & `flask_scheema-0.0.7.6.dist-info/LICENCE.rst`

 * *Files identical despite different names*

## Comparing `flask_scheema-0.0.7.5.dist-info/METADATA` & `flask_scheema-0.0.7.6.dist-info/METADATA`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: flask-scheema
-Version: 0.0.7.5
+Version: 0.0.7.6
 Summary: Automatic RESTful API generator with redoc
 Author: arched.dev (Lewis Morris)
 Author-email: hello@arched.dev
 License: MIT
 License-File: LICENCE.rst
 Requires-Dist: colorama ==0.4.6
 Requires-Dist: numpy ==1.26.4
```

## Comparing `flask_scheema-0.0.7.5.dist-info/RECORD` & `flask_scheema-0.0.7.6.dist-info/RECORD`

 * *Files 9% similar despite different names*

```diff
@@ -5,27 +5,27 @@
 flask_scheema/utilities.py,sha256=QytY_bVW51JtkkwxcpphKBxCNpbpXRLkpjRH-3tub5U,17852
 flask_scheema/api/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 flask_scheema/api/api.py,sha256=cL-pUOqgbSAwlz0TjyNPs6eS4RIMvuZ3xHa3wkSyvtE,20185
 flask_scheema/api/auth.py,sha256=TxW6BYcJYQsxSnfi609D9uYCfuuARRYJ9Fu76jgCjuY,3294
 flask_scheema/api/auth_routes.py,sha256=HCGx88hnajFjIoiDqVyRc76htStjor25tjnJuHsldYo,4161
 flask_scheema/api/decorators.py,sha256=NIjGLzWWh56T7f7rMrujUL-W9UO74zC6GofzZLkXxvE,12237
 flask_scheema/api/exception_handling.py,sha256=PAq6piAFUrJPwEszMyCXDZAvpuNggWk_Un39KB1GPso,716
-flask_scheema/api/responses.py,sha256=PJ7q8-4-D3z27Q3tdx9UkFkSH45RWV_Uk7zfcJBMkzg,9714
+flask_scheema/api/responses.py,sha256=LUHe-yyJY0a1aT13H-BFuYXBlo0HAzJ2MkJAbSHTpOA,10772
 flask_scheema/api/utils.py,sha256=FD86XaRTsbB3D5aiGTGiGb8cLrx7YBBqLCcEoUg8LwM,13904
 flask_scheema/html/apispec.html,sha256=zdWzEUg5RaETetyUuorf-8EK_DQYCl4_cxCj9DQgQSg,676
 flask_scheema/html/base_readme.MD,sha256=2ChxUC-Zfab1WYW6PWcgQ7KRKC1BtxSz5xKAR7RFOUE,4812
 flask_scheema/scheema/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 flask_scheema/scheema/bases.py,sha256=knHrOPNz2naJ7bkhfNgMfOGQBcQT4CeYL2Wtp781IsI,20391
 flask_scheema/scheema/schemas.py,sha256=EAPNJ8aCCNxOd7qvyZwZSyz-cqg8Xfep_Py1EfkFkdU,4838
 flask_scheema/scheema/utils.py,sha256=2r0KoKBRWIXJhNFo5_ka_xStlXVigGGk79aSjsWjzvI,9834
 flask_scheema/services/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 flask_scheema/services/database.py,sha256=WWPE2qJGZbDdRQ5fEBIgGaKhBOYVmCw_dKMG0RqazZA,24967
 flask_scheema/services/operators.py,sha256=xTJY3EqjmpeCd7Wk7FMUJj54ori0zvrHLbySWOvyz8A,22038
 flask_scheema/specification/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 flask_scheema/specification/doc_generation.py,sha256=h0CGtxKEs6n7SrMd5w3v_z6I6kH4Iso9Xf7qknzkYmU,39440
 flask_scheema/specification/specification.py,sha256=xXVEH9z-pQ5PbXdd5SOuYRTRlnQ4zUgptCX5Zx9GLKo,11646
 flask_scheema/specification/utilities.py,sha256=i8R421lK022tB9ocvW9l86wpEMe2NS3UJkl-2vOJ8oU,4921
-flask_scheema-0.0.7.5.dist-info/LICENCE.rst,sha256=Cps9x9FfhGG-0A1FjwuqAJZhF-OAjTuUtaRVxCMevZ8,1056
-flask_scheema-0.0.7.5.dist-info/METADATA,sha256=vHBAwKoP1IhoLpFcm96PS0sxm-dmABB5hp27NmOpLbA,902
-flask_scheema-0.0.7.5.dist-info/WHEEL,sha256=yQN5g4mg4AybRjkgi-9yy4iQEFibGQmlz78Pik5Or-A,92
-flask_scheema-0.0.7.5.dist-info/top_level.txt,sha256=iCFKEPT8ZqG5q5id_6flLkiGSqJ5S38043wQDsNOgA0,14
-flask_scheema-0.0.7.5.dist-info/RECORD,,
+flask_scheema-0.0.7.6.dist-info/LICENCE.rst,sha256=Cps9x9FfhGG-0A1FjwuqAJZhF-OAjTuUtaRVxCMevZ8,1056
+flask_scheema-0.0.7.6.dist-info/METADATA,sha256=rH5B0caRxWYEXSNiWfx_VXlD_V3Ib6Elv3XIhjViJ3U,902
+flask_scheema-0.0.7.6.dist-info/WHEEL,sha256=yQN5g4mg4AybRjkgi-9yy4iQEFibGQmlz78Pik5Or-A,92
+flask_scheema-0.0.7.6.dist-info/top_level.txt,sha256=iCFKEPT8ZqG5q5id_6flLkiGSqJ5S38043wQDsNOgA0,14
+flask_scheema-0.0.7.6.dist-info/RECORD,,
```

