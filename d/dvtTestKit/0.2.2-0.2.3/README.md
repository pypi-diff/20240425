# Comparing `tmp/dvtTestKit-0.2.2-py3-none-any.whl.zip` & `tmp/dvtTestKit-0.2.3-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,21 +1,21 @@
-Zip file size: 30349 bytes, number of entries: 19
+Zip file size: 30820 bytes, number of entries: 19
 -rw-r--r--  2.0 unx        0 b- defN 24-Feb-01 17:18 docs/source/__init__.py
 -rw-r--r--  2.0 unx     4318 b- defN 24-Feb-01 17:18 docs/source/conf.py
--rwxr-xr-x  2.0 unx      397 b- defN 24-Jan-05 15:04 dvtTestKit-0.2.2.data/scripts/dvtTestKit.cmd
--rwxr-xr-x  2.0 unx       37 b- defN 24-Jan-05 15:04 dvtTestKit-0.2.2.data/scripts/post.cmd
+-rwxr-xr-x  2.0 unx      397 b- defN 24-Jan-05 15:04 dvtTestKit-0.2.3.data/scripts/dvtTestKit.cmd
+-rwxr-xr-x  2.0 unx       37 b- defN 24-Jan-05 15:04 dvtTestKit-0.2.3.data/scripts/post.cmd
 -rw-r--r--  2.0 unx    40987 b- defN 24-Jan-05 15:04 dvttestkit/QAdeupty_handler.py
 -rw-r--r--  2.0 unx       67 b- defN 24-Feb-18 02:24 dvttestkit/__init__.py
 -rw-r--r--  2.0 unx    18351 b- defN 24-Mar-11 14:22 dvttestkit/confluence_handler.py
 -rw-r--r--  2.0 unx     7976 b- defN 24-Jan-05 15:04 dvttestkit/data_handler.py
 -rw-r--r--  2.0 unx     2275 b- defN 24-Jan-05 15:04 dvttestkit/gdrive_handler.py
 -rw-r--r--  2.0 unx    11251 b- defN 24-Jan-05 15:04 dvttestkit/jenkins_handler.py
--rw-r--r--  2.0 unx    12049 b- defN 24-Jan-05 15:04 dvttestkit/jira_handler.py
+-rw-r--r--  2.0 unx    13390 b- defN 24-Apr-25 20:02 dvttestkit/jira_handler.py
 -rw-r--r--  2.0 unx     1104 b- defN 24-Jan-05 15:04 dvttestkit/post.py
 -rw-r--r--  2.0 unx     2749 b- defN 24-Jan-05 15:04 dvttestkit/slack_handler.py
 -rw-r--r--  2.0 unx    16826 b- defN 24-Mar-19 13:57 dvttestkit/testKitUtils.py
--rw-r--r--  2.0 unx      476 b- defN 24-Mar-19 14:42 dvtTestKit-0.2.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Mar-19 14:42 dvtTestKit-0.2.2.dist-info/WHEEL
--rw-r--r--  2.0 unx       60 b- defN 24-Mar-19 14:42 dvtTestKit-0.2.2.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       16 b- defN 24-Mar-19 14:42 dvtTestKit-0.2.2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1590 b- defN 24-Mar-19 14:42 dvtTestKit-0.2.2.dist-info/RECORD
-19 files, 120621 bytes uncompressed, 27741 bytes compressed:  77.0%
+-rw-r--r--  2.0 unx      476 b- defN 24-Apr-25 20:06 dvtTestKit-0.2.3.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-25 20:06 dvtTestKit-0.2.3.dist-info/WHEEL
+-rw-r--r--  2.0 unx       60 b- defN 24-Apr-25 20:06 dvtTestKit-0.2.3.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       16 b- defN 24-Apr-25 20:06 dvtTestKit-0.2.3.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1590 b- defN 24-Apr-25 20:06 dvtTestKit-0.2.3.dist-info/RECORD
+19 files, 121962 bytes uncompressed, 28212 bytes compressed:  76.9%
```

## zipnote {}

```diff
@@ -1,17 +1,17 @@
 Filename: docs/source/__init__.py
 Comment: 
 
 Filename: docs/source/conf.py
 Comment: 
 
-Filename: dvtTestKit-0.2.2.data/scripts/dvtTestKit.cmd
+Filename: dvtTestKit-0.2.3.data/scripts/dvtTestKit.cmd
 Comment: 
 
-Filename: dvtTestKit-0.2.2.data/scripts/post.cmd
+Filename: dvtTestKit-0.2.3.data/scripts/post.cmd
 Comment: 
 
 Filename: dvttestkit/QAdeupty_handler.py
 Comment: 
 
 Filename: dvttestkit/__init__.py
 Comment: 
@@ -36,23 +36,23 @@
 
 Filename: dvttestkit/slack_handler.py
 Comment: 
 
 Filename: dvttestkit/testKitUtils.py
 Comment: 
 
-Filename: dvtTestKit-0.2.2.dist-info/METADATA
+Filename: dvtTestKit-0.2.3.dist-info/METADATA
 Comment: 
 
-Filename: dvtTestKit-0.2.2.dist-info/WHEEL
+Filename: dvtTestKit-0.2.3.dist-info/WHEEL
 Comment: 
 
-Filename: dvtTestKit-0.2.2.dist-info/entry_points.txt
+Filename: dvtTestKit-0.2.3.dist-info/entry_points.txt
 Comment: 
 
-Filename: dvtTestKit-0.2.2.dist-info/top_level.txt
+Filename: dvtTestKit-0.2.3.dist-info/top_level.txt
 Comment: 
 
-Filename: dvtTestKit-0.2.2.dist-info/RECORD
+Filename: dvtTestKit-0.2.3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## dvttestkit/jira_handler.py

```diff
@@ -9,30 +9,30 @@
 
 from dvttestkit import testKitUtils
 
 logger = testKitUtils.makeLogger(__name__)
 
 
 def get_ticket_components(jira_domain: str = os.getenv("JiraDomain"),
-                          issue_key: str = os.getenv('TicketKey')) -> Optional[str]:
+                          issue_key: str = os.getenv('DVT_TICKET')) -> Optional[str]:
     """
     Retrieve the name of the components field for a given Jira ticket.
 
     :param jira_domain: temp
     :param issue_key: Jira ticket key (e.g. "AUTO-770")
     :return: name of the components field, or None if the request failed
     """
     response = requests.get(
         f"{jira_domain}/rest/api/2/issue/{issue_key}",
         auth=HTTPBasicAuth(os.getenv("JiraEmail"), os.getenv("JiraToken"))
     )
 
     if response.status_code == 200:
         _data = response.json()
-        return _data["fields"]["components"][0].get('name')
+        return _data["fields"]["components"]
     else:
         logger.error(f"Failed to retrieve components for ticket {issue_key}: {response.text}")
         return None
 
 
 def convert(dictionary: dict) -> Any:
     """
@@ -59,18 +59,20 @@
         return re.sub(r'\W', '_', string)
 
     valid_keys = [replace_invalid_chars(key) for key in obj.keys()]
     return namedtuple('X', valid_keys)(*obj.values())
 
 
 def set_status_testing(jira_domain: str = os.getenv("JiraDomain"), transition_name: str = "DVT Testing",
-                       issue_key: str = os.getenv('TicketKey')):
+                       issue_key: str = os.getenv('DVT_TICKET')):
     """
     Changes the status of the specified Jira ticket to `transition_name`.
 
+    :param jira_domain: The Jira domain.
+    :type jira_domain: str
     :param transition_name: The target status name to set.
     :type transition_name: str
     :param issue_key: The Jira ticket key.
     :type issue_key: str
     :return: HTTP status code of the POST request.
     :rtype: int
     """
@@ -97,15 +99,15 @@
         auth=HTTPBasicAuth(os.getenv('JiraEmail'), os.getenv('JiraToken')),
         json={"transition": {"id": transition_id}}
     )
 
     return response.status_code
 
 
-def get_ticket_data(jira_domain: str = os.getenv("JiraDomain"), issue_key: str = os.getenv('TicketKey')):
+def get_ticket_data(jira_domain: str = os.getenv("JiraDomain"), issue_key: str = os.getenv('DVT_TICKET')):
     """
     Makes a GET request to the Jira API to retrieve data for the specified ticket.
     Returns a named tuple with the following fields: key, summary, description, due_date, components,
     status, assignee, priority, change_date, view_date
 
     :param jira_domain: temp
     :param issue_key: the key of the Jira ticket (e.g. "SPACE-123")
@@ -147,40 +149,62 @@
     else:
         # The request was not successful, so print the error message
         return f"Error: {response.text}"
 
 
 def get_board_data(jira_domain: str = os.getenv("JiraDomain"), board_id: str = os.getenv('BoardKey')):
     """
-    Makes a GET request to the Jira API to retrieve data for the specified ticket.
-    Returns  named tuple with the following fields: key, summary, description, due_date, components,
-    status, assignee, priority, change_date, view_date
-
-    :param board_id: the key of the Jira ticket (e.g. "DVT-123")
-    :return: Named Tuple
+    Makes a GET request to the Jira API to retrieve data for issues on the specified board.
+    Returns a list of named tuples, each containing data about an issue: key, summary, description, due_date, components,
+    status, assignee, priority, change_date, view_date.
+
+    :param jira_domain: The domain of your Jira instance.
+    :param board_id: The ID of the board to retrieve issues from.
+    :return: List of named tuples with issue data or an error message.
     """
-    # Make the GET request to the /rest/api/2/issue/{issue_key} endpoint
+    # Define the fields you want to fetch for each issue
+    fields = "key,summary,description,duedate,components,status,assignee,priority,updated,created"
+
+    # Make the GET request to the Jira REST API search endpoint to fetch issues by board ID
     response = requests.get(
-        f"{jira_domain}/rest/agile/1.0/board/{board_id}/issue?fields=status",
+        f"{jira_domain}/rest/api/2/search?jql=project={board_id}",
+        params={'fields': fields},
         auth=HTTPBasicAuth(os.getenv("JiraEmail"), os.getenv("JiraToken"))
     )
+
     # Check the status code of the response
     if response.status_code == 200:
-        # The request was successful, so parse the response JSON and return it as a named tuple
-        _data = json.loads(response.text)
-        ticket_tuple = namedtuple(
-            'ticket_tuple',
-            ['key', 'summary', 'description',
-             'due_date', 'components', 'status', 'assignee',
-             'priority', 'change_date', 'view_date']
-        )
-        return _data
+        # The request was successful, parse the response JSON
+        issues = json.loads(response.text)['issues']
+        IssueTuple = namedtuple('IssueTuple',
+                                'key summary description due_date components status assignee priority change_date view_date')
+
+        # Create a list of named tuples for each issue
+        result = []
+        for issue in issues:
+            fields = issue['fields']
+            assignee = fields.get('assignee')
+            assignee_name = assignee.get('displayName') if assignee else None
+            issue_data = IssueTuple(
+                key=issue['key'],
+                summary=fields.get('summary', None),
+                description=fields.get('description', None),
+                due_date=fields.get('duedate', None),
+                components=[c['name'] for c in fields.get('components', [])],
+                status=fields.get('status', {}).get('name', None),
+                assignee=assignee_name,
+                priority=fields.get('priority', {}).get('name', None),
+                change_date=fields.get('updated', None),
+                view_date=fields.get('created', None)
+            )
+            result.append(issue_data)
+        return result
     else:
-        # The request was not successful, so print the error message
-        return f"Error: {response.text}"
+        # The request was not successful, return the error message
+        return f"Error: {response.status_code} {response.text}"
 
 
 def retrieve_wip_tickets(jira_domain: str = os.getenv("JiraDomain"),
                          board_id: str = 'AUTO'):
     """
     Retrieve Jira tickets with status 'In Progress' from Jira board 'AUTO'
 
@@ -234,15 +258,15 @@
         elif test_type == 'Run 5GHz Test':
             ticket_dict['cdrouter_config'] = f'{device}_wifi_5GHz'
 
         parsed_tickets.append(ticket_dict)
     return parsed_tickets
 
 
-def attach_file_to_ticket(file, jira_domain: str = os.getenv("JiraDomain"), issue_key=os.getenv('TicketKey')):
+def attach_file_to_ticket(file, jira_domain: str = os.getenv("JiraDomain"), issue_key=os.getenv('DVT_TICKET')):
     """
     Attaches file to given Jira ticket
     :type file: path
     :param jira_domain: temp
     :param file:
     :type issue_key: str
     :param issue_key:
@@ -271,15 +295,15 @@
         sort_keys=True,
         indent=4,
         separators=(",", ": ")
     )
 
 
 def get_ticket_transitions(transition_name, jira_domain: str = os.getenv("JiraDomain"),
-                           issue_key: str = os.getenv('TicketKey')):
+                           issue_key: str = os.getenv('DVT_TICKET')):
     # Make a GET request to the Xray API to get the test result
     response = requests.get(
         f"{jira_domain}/rest/api/2/issue/{issue_key}"
         f"/transitions?expand=transitions.fields",
         auth=HTTPBasicAuth(os.getenv("JiraEmail"),
                            os.getenv("JiraToken"))
     )
@@ -292,15 +316,16 @@
                 return transition["app_id"]
     else:
         # If the request was not successful, print an error message
         return f"Error getting test result: {response.status_code}"
 
 
 class TicketData:
-    def __init__(self, issue_key: str = os.getenv('TicketKey')):
+
+    def __init__(self, issue_key: str = os.getenv('DVT_TICKET')):
         self.data = get_ticket_data(issue_key)
 
 
 def update_test_status(api_token: str, test_execution_id: str, status: str) -> requests.Response:
     """
     This function updates the test execution status using the Xray REST API.
 
@@ -325,8 +350,10 @@
 
     return requests.post(url, headers=headers, data=json.dumps(payload))
 
 
 if __name__ == '__main__':
     # You can now call this function like so:
     # response = update_test_status("your_api_token", "your_test_execution_id", "EXECUTING")
-    pass
+    # print(get_ticket_data(issue_key="DVD-67"))
+    x = get_board_data()
+    breakpoint()
```

## Comparing `dvtTestKit-0.2.2.dist-info/RECORD` & `dvtTestKit-0.2.3.dist-info/RECORD`

 * *Files 9% similar despite different names*

```diff
@@ -1,19 +1,19 @@
 docs/source/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 docs/source/conf.py,sha256=Ji-hpJsp4lUBAli4t4d824Fk2pIZDmwMbMKA6CzZ9HU,4318
-dvtTestKit-0.2.2.data/scripts/dvtTestKit.cmd,sha256=kUQVuW8umyqH7NssJV9c_Y8hNKAA1QGmugHk5nqJulg,397
-dvtTestKit-0.2.2.data/scripts/post.cmd,sha256=VtflFIATgd8qFM1VVa3ZHH4w5avyzfzs25x6uMy5hFI,37
+dvtTestKit-0.2.3.data/scripts/dvtTestKit.cmd,sha256=kUQVuW8umyqH7NssJV9c_Y8hNKAA1QGmugHk5nqJulg,397
+dvtTestKit-0.2.3.data/scripts/post.cmd,sha256=VtflFIATgd8qFM1VVa3ZHH4w5avyzfzs25x6uMy5hFI,37
 dvttestkit/QAdeupty_handler.py,sha256=htfMYLG4PqyzYkKlydY90AmwbznRB02XtQRzW30I2FE,40987
 dvttestkit/__init__.py,sha256=SZ_GRK-N0q4oXVlxsFqSoNHNy7tASTUG8-qA7Lv2jZk,67
 dvttestkit/confluence_handler.py,sha256=-mxpJ90Nvd5xsMmGh3ta_8HqPPXHQXl6Eu8idRFJdME,18351
 dvttestkit/data_handler.py,sha256=PS6EX_S0aVvCna8smoATuDBUwc-ad59ELshw8VW6L8Q,7976
 dvttestkit/gdrive_handler.py,sha256=ZkLdVhZ9XPUioDt-eMThGyj7zDNz2uhIcViI-UjkqeQ,2275
 dvttestkit/jenkins_handler.py,sha256=adpDM2ydq4pdfRpAho6ulneRosF_FnXrV0sl_iRxDXE,11251
-dvttestkit/jira_handler.py,sha256=NVVqRy16nGwXXuojyXfICvqOHqhyMweQENs3kQ0KuRs,12049
+dvttestkit/jira_handler.py,sha256=hfBoaE6Nike1faBx-LqF6Sir2Ld19tfjK_WE2Kk8DtU,13390
 dvttestkit/post.py,sha256=6ZMNoAECymLbmrXAFNMe5xEkae3OnacCAVXTZSX1x7g,1104
 dvttestkit/slack_handler.py,sha256=Smd_W9u9p0ZDT97KSx5o9wNEVK1wrFDqKAnBbqIGv6k,2749
 dvttestkit/testKitUtils.py,sha256=xaknc3I_k5TA9XLsVU_spxLHO_Sqah7lVEnz6dxjCr8,16826
-dvtTestKit-0.2.2.dist-info/METADATA,sha256=h1mLfB-Z8yk-1gJ__giwemy0o0S_t0Z1JKIMj8CUEX4,476
-dvtTestKit-0.2.2.dist-info/WHEEL,sha256=oiQVh_5PnQM0E3gPdiz09WCNmwiHDMaGer_elqB3coM,92
-dvtTestKit-0.2.2.dist-info/entry_points.txt,sha256=BtgrUB1DJQRmiVI3GgoqtCljE7G5XRg0unqxZR_i5wQ,60
-dvtTestKit-0.2.2.dist-info/top_level.txt,sha256=urZ8c9bHu5SHBEolzzyzhR4Q3SfVREBRXa0tA9Xzjo0,16
-dvtTestKit-0.2.2.dist-info/RECORD,,
+dvtTestKit-0.2.3.dist-info/METADATA,sha256=_brYKF-cZNC1rHX5-fJ8zzLXDFH76Z_uZ0m4AHxLgZ8,476
+dvtTestKit-0.2.3.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+dvtTestKit-0.2.3.dist-info/entry_points.txt,sha256=BtgrUB1DJQRmiVI3GgoqtCljE7G5XRg0unqxZR_i5wQ,60
+dvtTestKit-0.2.3.dist-info/top_level.txt,sha256=urZ8c9bHu5SHBEolzzyzhR4Q3SfVREBRXa0tA9Xzjo0,16
+dvtTestKit-0.2.3.dist-info/RECORD,,
```

